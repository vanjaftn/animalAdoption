{"ast":null,"code":"import { User } from '../model/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/user.service\";\nimport * as i2 from \"@angular/forms\";\nexport class ChangePasswordPageComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.userProfile = new User();\n    this.dob = \"\";\n    this.newPassword = \"\";\n  }\n  ngOnInit() {\n    console.log(localStorage.getItem('token'));\n    this.read();\n  }\n  getDate(date) {\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    this.dob = day + '.' + month + '.' + year + '.';\n    console.log(this.dob);\n  }\n  read() {\n    this.userService.readLoggedInUser().subscribe(response => {\n      console.log(JSON.parse(response));\n      this.userProfile = JSON.parse(response);\n      this.getDate(new Date(this.userProfile.dateOfBirth));\n    });\n  }\n  update() {\n    console.log(this.userProfile);\n    this.userService.update(this.userProfile).subscribe(response => {\n      console.log(response);\n      alert('Successfully updated');\n      // const animalId = this.selectedAnimalProfileId\n      // const animalURL = `animal-profile/${animalId}`;\n      // window.location.href = animalURL;  \n    }, error => {\n      alert(\"Invalid update\");\n      console.log(error);\n    });\n  }\n}\nChangePasswordPageComponent.ɵfac = function ChangePasswordPageComponent_Factory(t) {\n  return new (t || ChangePasswordPageComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nChangePasswordPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChangePasswordPageComponent,\n  selectors: [[\"app-change-password-page\"]],\n  decls: 20,\n  vars: 3,\n  consts: [[1, \"registration-container\"], [1, \"registration-form\"], [1, \"form-two-columns\", 3, \"ngSubmit\"], [1, \"form-column\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"password\", \"id\", \"oldPassword\", \"name\", \"oldPassword\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newPassword\"], [\"type\", \"text\", \"id\", \"newPassword\", \"name\", \"newPassword\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"newPassword2\", \"name\", \"newPassword2\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn-register\"]],\n  template: function ChangePasswordPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Change password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function ChangePasswordPageComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.update();\n      });\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"label\", 5);\n      i0.ɵɵtext(8, \"Old password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordPageComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.userProfile.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"New password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordPageComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.newPassword = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 4)(15, \"label\", 7);\n      i0.ɵɵtext(16, \"New password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordPageComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.newPassword = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"button\", 10);\n      i0.ɵɵtext(19, \"Change\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.userProfile.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newPassword);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newPassword);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.NgModel, i2.NgForm],\n  styles: [\".registration-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    min-height: 100vh;\\n    background-image: url('background-photo.jpg'); \\n\\n    background-size: cover;\\n    background-position: center;\\n  }\\n  \\n  .registration-form[_ngcontent-%COMP%] {\\n    background-color: rgba(255, 255, 255, 0.85);\\n    border-radius: 8px;\\n    padding: 40px;\\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\\n    width: 360px;\\n    text-align: center;\\n  }\\n  \\n  h2[_ngcontent-%COMP%] {\\n    font-size: 28px;\\n    margin-bottom: 20px;\\n    color: #333;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n  }\\n  \\n  label[_ngcontent-%COMP%] {\\n    display: block;\\n    font-size: 14px;\\n    color: #555;\\n    margin-bottom: 6px;\\n  }\\n  \\n  input[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"email\\\"][_ngcontent-%COMP%], input[type=\\\"password\\\"][_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    font-size: 16px;\\n    color: #333;\\n  }\\n  \\n  .btn-register[_ngcontent-%COMP%] {\\n    background-color: #FF9800;\\n    color: #fff;\\n    padding: 12px 20px;\\n    border: none;\\n    border-radius: 4px;\\n    font-size: 16px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  .btn-register[_ngcontent-%COMP%]:hover {\\n    background-color: #F57C00;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9jaGFuZ2UtcGFzc3dvcmQtcGFnZS9jaGFuZ2UtcGFzc3dvcmQtcGFnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLDZDQUErRCxFQUFFLGlDQUFpQztJQUNsRyxzQkFBc0I7SUFDdEIsMkJBQTJCO0VBQzdCOztFQUVBO0lBQ0UsMkNBQTJDO0lBQzNDLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsMENBQTBDO0lBQzFDLFlBQVk7SUFDWixrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLFdBQVc7RUFDYjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxlQUFlO0lBQ2YsV0FBVztJQUNYLGtCQUFrQjtFQUNwQjs7RUFFQTs7O0lBR0UsV0FBVztJQUNYLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixXQUFXO0VBQ2I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixlQUFlO0lBQ2Ysc0NBQXNDO0VBQ3hDOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZ2lzdHJhdGlvbi1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdzcmNcXGFzc2V0c1xcaW1hZ2VzXFxiYWNrZ3JvdW5kLXBob3RvLmpwZycpOyAvKiBSZXBsYWNlIHdpdGggeW91ciBpbWFnZSBwYXRoICovXHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAucmVnaXN0cmF0aW9uLWZvcm0ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg1KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIHBhZGRpbmc6IDQwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICB3aWR0aDogMzYwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIGgyIHtcclxuICAgIGZvbnQtc2l6ZTogMjhweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICB9XHJcbiAgXHJcbiAgLmZvcm0tZ3JvdXAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgbGFiZWwge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogIzU1NTtcclxuICAgIG1hcmdpbi1ib3R0b206IDZweDtcclxuICB9XHJcbiAgXHJcbiAgaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcbiAgaW5wdXRbdHlwZT1cImVtYWlsXCJdLFxyXG4gIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgfVxyXG4gIFxyXG4gIC5idG4tcmVnaXN0ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGOTgwMDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgcGFkZGluZzogMTJweCAyMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC5idG4tcmVnaXN0ZXI6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Y1N0MwMDtcclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["User","ChangePasswordPageComponent","constructor","userService","userProfile","dob","newPassword","ngOnInit","console","log","localStorage","getItem","read","getDate","date","day","month","getMonth","year","getFullYear","readLoggedInUser","subscribe","response","JSON","parse","Date","dateOfBirth","update","alert","error","i0","ɵɵdirectiveInject","i1","UserService","selectors","decls","vars","consts","template","ChangePasswordPageComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ChangePasswordPageComponent_Template_form_ngSubmit_4_listener","ChangePasswordPageComponent_Template_input_ngModelChange_9_listener","$event","password","ChangePasswordPageComponent_Template_input_ngModelChange_13_listener","ChangePasswordPageComponent_Template_input_ngModelChange_17_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\vanja\\Desktop\\diplomski\\animalAdoption\\animalAdoptionFrontend\\src\\app\\modules\\change-password-page\\change-password-page.component.ts","C:\\Users\\vanja\\Desktop\\diplomski\\animalAdoption\\animalAdoptionFrontend\\src\\app\\modules\\change-password-page\\change-password-page.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { User } from '../model/user.model';\nimport { UserService } from '../service/user.service';\n\n@Component({\n  selector: 'app-change-password-page',\n  templateUrl: './change-password-page.component.html',\n  styleUrls: ['./change-password-page.component.css']\n})\nexport class ChangePasswordPageComponent {\n  public userProfile: User = new User\n  public dob : String = \"\"\n  public newPassword: string = \"\"\n\n  constructor(private userService: UserService) { }\n\n  ngOnInit(): void {\n    console.log(localStorage.getItem('token'));\n    this.read()\n  }\n\n  public getDate(date : Date) {\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    this.dob = day + '.' + month + '.' + year + '.'\n    console.log(this.dob)\n  }\n\n  read(){\n    this.userService.readLoggedInUser().subscribe((response: any) => {\n      console.log(JSON.parse(response))\n      this.userProfile = JSON.parse(response)\n\n      this.getDate(new Date(this.userProfile.dateOfBirth))\n\n    }\n   );\n  }\n\n  update(){\n\n  console.log(this.userProfile)\n  \n  this.userService.update(this.userProfile).subscribe((response: any) => {\n    console.log(response)\n\n    alert('Successfully updated');\n\n    // const animalId = this.selectedAnimalProfileId\n    // const animalURL = `animal-profile/${animalId}`;\n    // window.location.href = animalURL;  \n\n  },(error) => {\n    alert(\"Invalid update\");\n    console.log(error);\n  }\n );\n\n  }\n}\n","<div class=\"registration-container\">\n    <div class=\"registration-form\">\n      <h2>Change password</h2>\n      <form (ngSubmit)=\"update()\" class=\"form-two-columns\">\n        <div class=\"form-column\">\n          <!-- First Column -->\n          <div class=\"form-group\">\n            <label for=\"name\">Old password</label>\n            <input type=\"password\" id=\"oldPassword\" name=\"oldPassword\" [(ngModel)]=\"userProfile.password\" required>\n          </div>\n  \n          <div class=\"form-group\">\n            <label for=\"newPassword\">New password</label>\n            <input type=\"text\" id=\"newPassword\" name=\"newPassword\" [(ngModel)]=\"newPassword\" required>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"newPassword\">New password</label>\n            <input type=\"text\" id=\"newPassword2\" name=\"newPassword2\" [(ngModel)]=\"newPassword\" required >\n          </div>\n\n  \n          <button type=\"submit\" class=\"btn-register\">Change</button>\n        </div>\n      </form>\n    </div>\n  </div>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}